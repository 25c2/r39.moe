import{u as A,f as C,r as B,g as p,c as r,a as n,F as _,h as m,i as f,o as l,n as P,t as h,b as T,w as M,d as V,_ as $}from"./CDVZ23eJ.js";import{u as q,q as D}from"./vgD5kEuJ.js";const F={class:"content"},I={class:"block"},K={class:"card"},L={class:"tag-row"},S=["onClick"],z={class:"month-title"},E={class:"list"},j={__name:"index",async setup(H){let i,g;A({title:"Blog"});const{data:y}=([i,g]=C(()=>q("blog-posts",()=>D("blog").all())),i=await i,g(),i),c=B(""),u=t=>t?.path||"",v=t=>{const e=u(t).split("/").filter(Boolean),s=e[1]||"",o=e[2]||"",d=Number.parseInt(o,10);return{ym:s,index:Number.isNaN(d)?0:d}},x=t=>t.length===6?`${t.slice(0,4)}-${t.slice(4,6)}`:t||"Unknown",b=p(()=>{const t=new Set,a=[];for(const e of y.value||[]){const s=Array.isArray(e.tags)?e.tags:[];for(const o of s)t.has(o)||(t.add(o),a.push(o))}return a}),k=p(()=>{const t=(y.value||[]).filter(a=>u(a));return c.value?t.filter(a=>Array.isArray(a.tags)&&a.tags.includes(c.value)):t}),w=p(()=>{const t=new Map;for(const e of k.value){const s=v(e);t.has(s.ym)||t.set(s.ym,[]),t.get(s.ym).push({post:e,meta:s})}return Array.from(t.keys()).sort((e,s)=>s.localeCompare(e)).map(e=>{const s=t.get(e)||[];return s.sort((o,d)=>d.meta.index-o.meta.index),{key:e,label:x(e),posts:s.map(o=>o.post)}})}),N=t=>{c.value=c.value===t?"":t};return(t,a)=>{const e=$;return l(),r("section",F,[a[0]||(a[0]=n("header",{class:"hero"},[n("h1",{class:"title"},"ðŸ“š Blog"),n("p",{class:"lead"},"æ›´æ–°ã™ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã—ã€ã—ãªã„ã‹ã‚‚ã—ã‚Œãªã„")],-1)),n("section",I,[n("div",K,[n("div",L,[(l(!0),r(_,null,m(f(b),s=>(l(),r("button",{key:s,class:P(["tag-button",{"is-active":f(c)===s}]),type:"button",onClick:o=>N(s)},h(s),11,S))),128))]),(l(!0),r(_,null,m(f(w),s=>(l(),r("div",{key:s.key,class:"month-group"},[n("div",z,h(s.label),1),n("ul",E,[(l(!0),r(_,null,m(s.posts,o=>(l(),r("li",{key:u(o)},[T(e,{class:"link-row",to:u(o)},{default:M(()=>[V(h(o.title),1)]),_:2},1032,["to"])]))),128))])]))),128))])])])}}};export{j as default};
